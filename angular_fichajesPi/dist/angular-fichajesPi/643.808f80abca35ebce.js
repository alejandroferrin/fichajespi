"use strict";(self.webpackChunkangular_fichajesPi=self.webpackChunkangular_fichajesPi||[]).push([[643],{8460:(f,c,l)=>{l.r(c),l.d(c,{FichajesModule:()=>D});var t=l(8870),r=l(1207),h=l(860);class u{constructor(g,n,i,d,m){this.hora=g,this.dia=n,this.tipo=i,this.origen=d,this.usuario=m}}var p=l(1659),e=l(9215),o=l(4780),s=l(6603),Z=l(8110),v=l(1307);let C=(()=>{class a{constructor(n,i,d){this.service=n,this.activatedRoute=i,this.router=d,this.model=new u("","","",null,new h.a("","","","",null,null,null,null,null,""))}ngOnInit(){this.service.detail(this.activatedRoute.snapshot.params.id).subscribe(i=>{console.log(i),this.model=i},i=>{p.G.toastDanger("Ocurri\xf3 un error",i.message),console.log(i)})}onUpdate(){this.service.update(this.activatedRoute.snapshot.params.id,this.model).subscribe(i=>{p.G.toastSucess("","Cambios Guardados")},i=>{p.G.toastDanger("Ocurri\xf3 un error",i.message),console.log(i)})}onDelete(){const n=this.activatedRoute.snapshot.params.id;p.G.dangerConfirmBox("\xbfDesea eliminar el fichaje?","Esta operaci\xf3n no se puede deshacer","SI","NO").openConfirmBox$().subscribe(i=>{i.Success&&this.delete(n)})}delete(n){this.service.delete(n).subscribe(i=>{p.G.toastWarning("","Fichaje Eliminado"),this.router.navigate(["intranet/fichajes"])},i=>{p.G.toastDanger("Ocurri\xf3 un error",i.message),console.log(i)})}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(o.r),e.Y36(r.gz),e.Y36(r.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-fichajes-detalle"]],decls:60,vars:7,consts:[[1,"container-fluid","mt-3"],[1,"mb-4","text-center","selected","bg-waves","rounded","p-3"],["novalidate","",1,"mt-4","mb-4","mx-5",3,"ngSubmit"],["f","ngForm"],[1,"row","mb-4"],[1,"col-12","col-sm-6","col-md-4","col-lg-4","col-xl-3","d-flex","align-items-end","justify-content-end","mb-3"],[1,"form-group","small","w-100"],["for","u-nombre"],[1,"input-group","input-group-sm"],["type","text","name","u-nombre","id","u-nombre","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","u-numero"],["type","text","name","u-numero","id","u-numero","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","u-email"],["type","text","name","u-email","id","u-email","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","dia"],["type","date","name","dia","id","dia",1,"form-control",3,"ngModel","ngModelChange"],["type","time","name","hora","id","hora",1,"form-control",3,"ngModel","ngModelChange"],["for","tipo"],["name","tipo","id","tipo",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["value","ENTRADA"],["value","SALIDA"],[1,"row","d-flex","flex-row","justify-content-end"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","d-flex","align-items-end","justify-content-end","mb-3"],[1,"w-100",3,"valid"],["routerLink","/intranet/fichajes",1,"w-100"],[1,"w-100","text-center","mt-5","mb-5"],[1,"mx-auto","btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2,"Editar Fichaje"),e.qZA(),e.TgZ(3,"form",2,3),e.NdJ("ngSubmit",function(){return i.onUpdate()}),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"label",7),e.TgZ(9,"b"),e._uU(10,"Nombre Empleado:"),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(m){return i.model.usuario.nombreEmpleado=m}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",5),e.TgZ(14,"div",6),e.TgZ(15,"label",10),e.TgZ(16,"b"),e._uU(17,"N\xfamero Empleado:"),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(m){return i.model.usuario.numero=m}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",5),e.TgZ(21,"div",6),e.TgZ(22,"label",12),e.TgZ(23,"b"),e._uU(24,"Email Empleado:"),e.qZA(),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"input",13),e.NdJ("ngModelChange",function(m){return i.model.usuario.email=m}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",5),e.TgZ(28,"div",6),e.TgZ(29,"label",14),e.TgZ(30,"b"),e._uU(31,"D\xeda:"),e.qZA(),e.qZA(),e.TgZ(32,"div",8),e.TgZ(33,"input",15),e.NdJ("ngModelChange",function(m){return i.model.dia=m}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",5),e.TgZ(35,"div",6),e.TgZ(36,"label",14),e.TgZ(37,"b"),e._uU(38,"Hora:"),e.qZA(),e.qZA(),e.TgZ(39,"div",8),e.TgZ(40,"input",16),e.NdJ("ngModelChange",function(m){return i.model.hora=m}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",5),e.TgZ(42,"div",6),e.TgZ(43,"label",17),e.TgZ(44,"b"),e._uU(45,"Tipo:"),e.qZA(),e.qZA(),e.TgZ(46,"select",18),e.NdJ("ngModelChange",function(m){return i.model.tipo=m}),e.TgZ(47,"option",19),e._uU(48,"Entrada"),e.qZA(),e.TgZ(49,"option",20),e._uU(50,"Salida"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",21),e.TgZ(52,"div",22),e._UZ(53,"app-boton-guardar",23),e.qZA(),e.TgZ(54,"div",22),e._UZ(55,"app-boton-volver",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",25),e.TgZ(57,"button",26),e.NdJ("click",function(){return i.onDelete()}),e._UZ(58,"i",27),e._uU(59," Eliminar fichaje "),e.qZA(),e.qZA(),e.qZA()),2&n){const d=e.MAs(4);e.xp6(12),e.Q6J("ngModel",i.model.usuario.nombreEmpleado),e.xp6(7),e.Q6J("ngModel",i.model.usuario.numero),e.xp6(7),e.Q6J("ngModel",i.model.usuario.email),e.xp6(7),e.Q6J("ngModel",i.model.dia),e.xp6(7),e.Q6J("ngModel",i.model.hora),e.xp6(6),e.Q6J("ngModel",i.model.tipo),e.xp6(7),e.Q6J("valid",d.valid)}},directives:[s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr,Z.Q,v.w,r.rH],styles:[""]}),a})();var _=l(1732);let T=(()=>{class a{constructor(n,i){this.service=n,this.activatedRoute=i,this.headers=["dia","hora","tipo","usuario.nombreEmpleado","usuario.numero","origen"],this.order="id",this.asc=!1,this.listaElementos=[],this.pag={totalPages:[],page:0,isFirst:!1,isLast:!1,size:15,sizeLimit:100,listPagesLimits:4},this.dto={diaDesde:"",diaHasta:"",horaDesde:"",horaHasta:"",hora:"",dia:"",origen:null,tipo:"",numeroUsuario:"",nombreUsuario:""}}ngOnInit(){this.dto.numeroUsuario=this.activatedRoute.snapshot.params.numero,this.listarElementos()}listarElementos(){this.service.getElements(this.dto,this.pag.page,this.pag.size,this.order,this.asc).subscribe(n=>{this.listaElementos=n.content,this.pag.isFirst=n.first,this.pag.isLast=n.last,this.pag.totalPages=new Array(n.totalPages)},n=>{console.log(n)})}onPaginate(n){this.pag=n,this.listarElementos()}setOrder(n){this.order=n,this.asc=!this.asc,this.listarElementos()}clearNumero(){this.dto.numeroUsuario="",this.listarElementos()}clearNombre(){this.dto.nombreUsuario="",this.listarElementos()}clearDiaDesde(){this.dto.diaDesde="",this.listarElementos()}clearDiaHasta(){this.dto.diaHasta="",this.listarElementos()}clearHoraDesde(){this.dto.horaDesde="",this.listarElementos()}clearHoraHasta(){this.dto.horaHasta="",this.listarElementos()}clearOrigen(){this.dto.origen="",this.listarElementos()}clearTipo(){this.dto.tipo="",this.listarElementos()}clear(){this.dto.diaDesde="",this.dto.horaDesde="",this.dto.diaHasta="",this.dto.horaHasta="",this.dto.origen=null,this.dto.tipo="",this.dto.numeroUsuario="",this.dto.nombreUsuario="",this.listarElementos()}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(o.r),e.Y36(r.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-fichajes"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"app-fichajes-lista")},directives:[_.m],styles:[""]}),a})();const A=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:T},{path:"list/empleado/:numero",component:T},{path:"list/:id",component:C}];let b=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[r.Bz.forChild(A)],r.Bz]}),a})();var F=l(7729),M=l(9544),j=l(5964);let D=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[o.r],imports:[[t.ez,b,F.I,M.m,j.P]]}),a})()},3801:(f,c,l)=>{l.d(c,{x:()=>h});var t=l(9215),r=l(6603);let h=(()=>{class u{constructor(){this.name="Text filter",this.id="text",this.inputValue="",this.inputValueChange=new t.vpe,this.list=new t.vpe,this.clear=new t.vpe}ngOnInit(){}listElements(){this.list.emit()}clearField(){this.clear.emit()}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-input-filter-range-dates"]],inputs:{name:"name",id:"id",inputValue:"inputValue"},outputs:{inputValueChange:"inputValueChange",list:"list",clear:"clear"},decls:10,vars:7,consts:[[1,"form-group","small"],[1,"small",3,"for"],[1,"input-group","input-group-sm"],["type","date",1,"form-control",3,"name","id","ngModel","ngModelChange"],[1,"text-danger","my-auto","mx-2","pinchable",3,"hidden","click"],[1,"bi","bi-x-circle-fill"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"bi","bi-check-circle-fill"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"label",1),t.TgZ(2,"b"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"input",3),t.NdJ("ngModelChange",function(Z){return o.inputValue=Z})("ngModelChange",function(){return o.inputValueChange.emit(o.inputValue)}),t.qZA(),t.TgZ(6,"span",4),t.NdJ("click",function(){return o.clearField()}),t._UZ(7,"i",5),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.listElements()}),t._UZ(9,"i",7),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.s9C("for",o.id),t.xp6(2),t.hij("",o.name,":"),t.xp6(2),t.s9C("name",o.id),t.s9C("id",o.id),t.Q6J("ngModel",o.inputValue),t.xp6(1),t.Q6J("hidden",!o.inputValue),t.xp6(2),t.Q6J("disabled",!o.inputValue))},directives:[r.Fj,r.JJ,r.On],styles:[""]}),u})()},706:(f,c,l)=>{l.d(c,{_:()=>h});var t=l(9215),r=l(6603);let h=(()=>{class u{constructor(){this.name="Text filter",this.id="text",this.inputValue="",this.inputValueChange=new t.vpe,this.list=new t.vpe,this.clear=new t.vpe}ngOnInit(){}listElements(){this.list.emit()}clearField(){this.clear.emit()}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-input-filter-range-time"]],inputs:{name:"name",id:"id",inputValue:"inputValue"},outputs:{inputValueChange:"inputValueChange",list:"list",clear:"clear"},decls:10,vars:7,consts:[[1,"form-group","small"],[1,"small",3,"for"],[1,"input-group","input-group-sm"],["type","time",1,"form-control",3,"name","id","ngModel","ngModelChange"],[1,"text-danger","my-auto","mx-2","pinchable",3,"hidden","click"],[1,"bi","bi-x-circle-fill"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"bi","bi-check-circle-fill"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"label",1),t.TgZ(2,"b"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"input",3),t.NdJ("ngModelChange",function(Z){return o.inputValue=Z})("ngModelChange",function(){return o.inputValueChange.emit(o.inputValue)}),t.qZA(),t.TgZ(6,"span",4),t.NdJ("click",function(){return o.clearField()}),t._UZ(7,"i",5),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.listElements()}),t._UZ(9,"i",7),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.s9C("for",o.id),t.xp6(2),t.hij("",o.name,":"),t.xp6(2),t.s9C("name",o.id),t.s9C("id",o.id),t.Q6J("ngModel",o.inputValue),t.xp6(1),t.Q6J("hidden",!o.inputValue),t.xp6(2),t.Q6J("disabled",!o.inputValue))},directives:[r.Fj,r.JJ,r.On],styles:[""]}),u})()}}]);