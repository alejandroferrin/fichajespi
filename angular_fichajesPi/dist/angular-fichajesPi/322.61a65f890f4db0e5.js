"use strict";(self.webpackChunkangular_fichajesPi=self.webpackChunkangular_fichajesPi||[]).push([[322],{9521:(T,p,a)=>{a.d(p,{C:()=>O});var t=a(9215),c=a(7227),d=a(1207),u=a(5410),_=a(6603),m=a(3801),i=a(8870),g=a(7895),h=a(4128),f=a(9730),Z=a(9745),E=a(1039);function A(r,l){if(1&r){const n=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"app-input-filter-text",5),t.NdJ("inputValueChange",function(o){return t.CHM(n),t.oxw().dto.usuarioNombre=o})("clear",function(){return t.CHM(n),t.oxw().clearNombre()})("list",function(){return t.CHM(n),t.oxw().listarElementos()}),t.qZA(),t.qZA()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("inputValue",n.dto.usuarioNombre)("name","Nombre Emp")("id","nombre")}}function C(r,l){if(1&r){const n=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"app-input-filter-text",5),t.NdJ("inputValueChange",function(o){return t.CHM(n),t.oxw().dto.usuarioNumero=o})("clear",function(){return t.CHM(n),t.oxw().clearNumero()})("list",function(){return t.CHM(n),t.oxw().listarElementos()}),t.qZA(),t.qZA()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("inputValue",n.dto.usuarioNumero)("name","N\xfamero Emp")("id","numero")}}function v(r,l){1&r&&(t.TgZ(0,"th"),t._uU(1,"Ver Detalle"),t.qZA())}function D(r,l){1&r&&(t.TgZ(0,"td"),t._uU(1,"Si"),t.qZA())}function L(r,l){1&r&&(t.TgZ(0,"td"),t._uU(1,"No"),t.qZA())}function P(r,l){if(1&r&&(t.TgZ(0,"td",26),t.TgZ(1,"div",27),t._UZ(2,"i",28),t.qZA(),t.qZA()),2&r){const n=t.oxw().$implicit;t.MGl("routerLink","/intranet/vacaciones/list/",n.id,"")}}function M(r,l){if(1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,D,2,0,"td",21),t.YNc(8,L,2,0,"td",21),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.YNc(13,P,3,1,"td",25),t.qZA()),2&r){const n=l.$implicit,e=t.oxw();t.xp6(2),t.Oqu(n.inicio),t.xp6(2),t.Oqu(n.fin),t.xp6(2),t.Oqu(n.estado),t.xp6(1),t.Q6J("ngIf",n.consumidas),t.xp6(1),t.Q6J("ngIf",!n.consumidas),t.xp6(2),t.Oqu(n.usuario.nombreEmpleado),t.xp6(2),t.Oqu(n.usuario.numero),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}let O=(()=>{class r{constructor(n,e,o){this.service=n,this.activatedRoute=e,this.tokenService=o,this.headers=["inicio","fin","estado","consumidas","usuario.nombreEmpleado","usuario.numero"],this.order="id",this.asc=!1,this.listaElementos=[],this.pag={totalPages:[],page:0,isFirst:!1,isLast:!1,size:15,sizeLimit:100,listPagesLimits:4},this.dto={consumidas:null,estado:"",inicioDesde:"",inicioHasta:"",finDesde:"",finHasta:"",usuarioEmail:"",usuarioNumero:"",usuarioNombre:"",usuarioDni:""},this.isAdmin=!1}ngOnInit(){this.dto.usuarioNumero=this.activatedRoute.snapshot.params.numero,this.isAdmin=this.tokenService.isAdmin(),this.listarElementos()}listarElementos(){this.service.getElements(this.dto,this.pag.page,this.pag.size,this.order,this.asc).subscribe(n=>{this.listaElementos=n.content,this.pag.isFirst=n.first,this.pag.isLast=n.last,this.pag.totalPages=new Array(n.totalPages)},n=>{console.log(n)})}onPaginate(n){this.pag=n,this.listarElementos()}setOrder(n){this.order=n,this.asc=!this.asc,this.listarElementos()}clearEmail(){this.dto.usuarioEmail="",this.listarElementos()}clearNumero(){this.dto.usuarioNumero="",this.listarElementos()}clearNombre(){this.dto.usuarioNombre="",this.listarElementos()}clearDni(){this.dto.usuarioDni="",this.listarElementos()}clearEstado(){this.dto.estado="",this.listarElementos()}clearConsumidas(){this.dto.consumidas=null,this.listarElementos()}clearInicioDesde(){this.dto.inicioDesde="",this.listarElementos()}clearInicioHasta(){this.dto.inicioHasta="",this.listarElementos()}clearfinDesde(){this.dto.finDesde="",this.listarElementos()}clearfinHasta(){this.dto.finHasta="",this.listarElementos()}clear(){this.dto.consumidas=null,this.dto.estado="",this.dto.inicioDesde="",this.dto.inicioHasta="",this.dto.finDesde="",this.dto.finHasta="",this.dto.usuarioEmail="",this.dto.usuarioNumero="",this.dto.usuarioNombre="",this.dto.usuarioDni="",this.listarElementos()}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(c.X),t.Y36(d.gz),t.Y36(u.B))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-vacaciones-lista"]],decls:59,vars:42,consts:[[1,"container-fluid","mt-3"],[1,"mb-4","text-center","selected","bg-waves","rounded","p-3"],[1,"my-3","mx-0","bg-light","px-4","pt-2","rounded"],[1,"row","mb-4"],[1,"col-12","col-sm-6","col-md-4","col-lg-4","col-xl-3","d-flex","align-items-end","justify-content-end","mb-3"],[1,"w-100",3,"inputValue","name","id","inputValueChange","clear","list"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","d-flex","align-items-end","justify-content-end","mb-3"],[1,"form-group","small","w-100"],["for","en-vacaciones",1,"small"],["name","estado","id","estado",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],["value","PENDIENTE"],["value","APROBADO"],["value","DENEGADO"],["name","agotado","id","agotado",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value","true"],["value","false"],["class","col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 d-flex align-items-end justify-content-end mb-3",4,"ngIf"],[1,"w-100",3,"click"],[1,"table","table-hover","text-center"],[3,"entity","name","asc","order","sort"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"pag","paginacion"],[3,"apiEndPoint","dto","fileName","service","headers"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"w-100","h-100","btn","btn-outline-secondary"],[1,"bi","bi-eye-fill"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2,"B\xfasqueda de Vacaciones"),t.qZA(),t.TgZ(3,"form",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"app-input-filter-range-dates",5),t.NdJ("inputValueChange",function(s){return e.dto.inicioDesde=s})("clear",function(){return e.clearInicioDesde()})("list",function(){return e.listarElementos()}),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"app-input-filter-range-dates",5),t.NdJ("inputValueChange",function(s){return e.dto.inicioHasta=s})("clear",function(){return e.clearInicioHasta()})("list",function(){return e.listarElementos()}),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"label",8),t.TgZ(12,"b"),t._uU(13,"Estado:"),t.qZA(),t.qZA(),t.TgZ(14,"select",9),t.NdJ("ngModelChange",function(s){return e.dto.estado=s})("change",function(){return e.listarElementos()}),t.TgZ(15,"option",10),t._uU(16,"Todos"),t.qZA(),t.TgZ(17,"option",11),t._uU(18,"Pendiente"),t.qZA(),t.TgZ(19,"option",12),t._uU(20,"Aprobado"),t.qZA(),t.TgZ(21,"option",13),t._uU(22,"Denegado"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",6),t.TgZ(24,"div",7),t.TgZ(25,"label",8),t.TgZ(26,"b"),t._uU(27,"Consumidas:"),t.qZA(),t.qZA(),t.TgZ(28,"select",14),t.NdJ("ngModelChange",function(s){return e.dto.consumidas=s})("change",function(){return e.listarElementos()}),t.TgZ(29,"option",10),t._uU(30,"Todos"),t.qZA(),t.TgZ(31,"option",15),t._uU(32,"Si"),t.qZA(),t.TgZ(33,"option",16),t._uU(34,"No"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,A,2,3,"div",17),t.YNc(36,C,2,3,"div",17),t.TgZ(37,"div",6),t.TgZ(38,"app-boton-borrar-filtros",18),t.NdJ("click",function(){return e.clear()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"table",19),t.TgZ(40,"thead"),t.TgZ(41,"tr"),t.TgZ(42,"th"),t.TgZ(43,"app-th-sort",20),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(44,"th"),t.TgZ(45,"app-th-sort",20),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(46,"th"),t.TgZ(47,"app-th-sort",20),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(48,"th"),t.TgZ(49,"app-th-sort",20),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(50,"th"),t.TgZ(51,"app-th-sort",20),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(52,"th"),t.TgZ(53,"app-th-sort",20),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.YNc(54,v,2,0,"th",21),t.qZA(),t.qZA(),t.TgZ(55,"tbody"),t.YNc(56,M,14,8,"tr",22),t.qZA(),t.qZA(),t.TgZ(57,"app-pagination",23),t.NdJ("paginacion",function(s){return e.onPaginate(s)}),t.qZA(),t.qZA(),t._UZ(58,"app-boton-descarga-csv",24)),2&n&&(t.xp6(6),t.Q6J("inputValue",e.dto.inicioDesde)("name","Desde")("id","desde"),t.xp6(2),t.Q6J("inputValue",e.dto.inicioHasta)("name","Hasta")("id","hasta"),t.xp6(6),t.Q6J("ngModel",e.dto.estado),t.xp6(14),t.Q6J("ngModel",e.dto.consumidas),t.xp6(7),t.Q6J("ngIf",e.isAdmin),t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(7),t.Q6J("entity","inicio")("name","D\xeda Inicio")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","fin")("name","D\xeda Fin")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","estado")("name","Estado")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","consumidas")("name","Consumidas")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","usuarioNombreEmpleado")("name","Nombre Empleado")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","usuarioNumero")("name","N\xfamero Empleado")("asc",e.asc)("order",e.order),t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(2),t.Q6J("ngForOf",e.listaElementos),t.xp6(1),t.Q6J("pag",e.pag),t.xp6(1),t.Q6J("apiEndPoint","vacaciones/listFiltered")("dto",e.dto)("fileName","vacaciones")("service",e.service)("headers",e.headers))},directives:[_._Y,_.JL,_.F,m.x,_.EJ,_.JJ,_.On,_.YN,_.Kr,i.O5,g.R,h.r,i.sg,f.Q,Z.Z,E.r,d.rH],styles:[""]}),r})()},6259:(T,p,a)=>{a.d(p,{B:()=>m});var t=a(8870),c=a(9544),d=a(7729),u=a(7227),_=a(9215);let m=(()=>{class i{}return i.\u0275fac=function(h){return new(h||i)},i.\u0275mod=_.oAB({type:i}),i.\u0275inj=_.cJS({providers:[u.X],imports:[[t.ez,c.m,d.I]]}),i})()},7227:(T,p,a)=>{a.d(p,{X:()=>u});var t=a(4537),c=a(9215),d=a(6659);let u=(()=>{class _{constructor(i){this.httpClient=i,this.endPoint=t.N.apiURL+"/vacaciones"}getElements(i,g,h,f,Z){return this.httpClient.post(this.endPoint+`/pagesFiltered?page=${g}&size=${h}&order=${f}&asc=${Z}`,i)}detail(i){return this.httpClient.get(this.endPoint+`/${i}`)}delete(i){return this.httpClient.delete(this.endPoint+`/${i}`)}aprobar(i){return this.httpClient.put(this.endPoint+`/aprobar/${i}`,null)}denegar(i){return this.httpClient.put(this.endPoint+`/denegar/${i}`,null)}getCsvData(i){return this.httpClient.post(this.endPoint+"/listFiltered",i)}create(i){return this.httpClient.post(this.endPoint+"/create",i)}}return _.\u0275fac=function(i){return new(i||_)(c.LFG(d.eN))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);