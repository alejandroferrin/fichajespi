"use strict";(self.webpackChunkangular_fichajesPi=self.webpackChunkangular_fichajesPi||[]).push([[593],{7957:(f,g,o)=>{o.d(g,{u:()=>M});var e=o(9215),u=o(283),d=o(1207),l=o(5410),r=o(6603),p=o(3801),n=o(706),m=o(1039),c=o(8870),T=o(7895),Z=o(4128),C=o(9730),E=o(9745);function P(_,h){if(1&_){const a=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"app-input-filter-text",5),e.NdJ("inputValueChange",function(i){return e.CHM(a),e.oxw().dto.usuarioNombre=i})("clear",function(){return e.CHM(a),e.oxw().clearNombre()})("list",function(){return e.CHM(a),e.oxw().listarElementos()}),e.qZA(),e.qZA()}if(2&_){const a=e.oxw();e.xp6(1),e.Q6J("inputValue",a.dto.usuarioNombre)("name","Nombre Emp")("id","nombre")}}function A(_,h){if(1&_){const a=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"app-input-filter-text",5),e.NdJ("inputValueChange",function(i){return e.CHM(a),e.oxw().dto.usuarioNumero=i})("clear",function(){return e.CHM(a),e.oxw().clearNumero()})("list",function(){return e.CHM(a),e.oxw().listarElementos()}),e.qZA(),e.qZA()}if(2&_){const a=e.oxw();e.xp6(1),e.Q6J("inputValue",a.dto.usuarioNumero)("name","N\xfamero Emp")("id","numero")}}function D(_,h){1&_&&(e.TgZ(0,"th"),e._uU(1,"Ver Detalle"),e.qZA())}function v(_,h){if(1&_&&(e.TgZ(0,"td",23),e.TgZ(1,"div",24),e._UZ(2,"i",25),e.qZA(),e.qZA()),2&_){const a=e.oxw().$implicit;e.MGl("routerLink","/intranet/permisos/list/",a.id,"")}}function L(_,h){if(1&_&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.YNc(15,v,3,1,"td",22),e.qZA()),2&_){const a=h.$implicit,t=e.oxw();e.xp6(2),e.Oqu(a.dia),e.xp6(2),e.Oqu(a.horaInicio),e.xp6(2),e.Oqu(a.horaFin),e.xp6(2),e.Oqu(a.estado),e.xp6(2),e.Oqu(a.descripcion),e.xp6(2),e.Oqu(a.usuario.nombreEmpleado),e.xp6(2),e.Oqu(a.usuario.numero),e.xp6(1),e.Q6J("ngIf",t.isAdmin)}}let M=(()=>{class _{constructor(a,t,i){this.service=a,this.activatedRoute=t,this.tokenService=i,this.headers=["dia","horaInicio","horaFin","estado","descripcion","usuario.nombreEmpleado","usuario.numero"],this.order="id",this.asc=!1,this.listaElementos=[],this.pag={totalPages:[],page:0,isFirst:!1,isLast:!1,size:15,sizeLimit:100,listPagesLimits:4},this.dto={descripcion:"",diaDesde:"",diaHasta:"",horaFinDesde:"",horaFinHasta:"",horaInicioDesde:"",horaInicioHasta:"",estado:"",usuarioEmail:"",usuarioNumero:"",usuarioNombre:"",usuarioDni:""},this.isAdmin=!1}ngOnInit(){this.dto.usuarioNumero=this.activatedRoute.snapshot.params.numero,this.isAdmin=this.tokenService.isAdmin(),this.listarElementos()}listarElementos(){this.service.getElements(this.dto,this.pag.page,this.pag.size,this.order,this.asc).subscribe(a=>{this.listaElementos=a.content,this.pag.isFirst=a.first,this.pag.isLast=a.last,this.pag.totalPages=new Array(a.totalPages)},a=>{console.log(a)})}onPaginate(a){this.pag=a,this.listarElementos()}setOrder(a){this.order=a,this.asc=!this.asc,this.listarElementos()}clearEmail(){this.dto.usuarioEmail="",this.listarElementos()}clearNumero(){this.dto.usuarioNumero="",this.listarElementos()}clearNombre(){this.dto.usuarioNombre="",this.listarElementos()}clearDni(){this.dto.usuarioDni="",this.listarElementos()}clearDescripcion(){this.dto.descripcion="",this.listarElementos()}clearDiaDesde(){this.dto.diaDesde="",this.listarElementos()}clearDiaHasta(){this.dto.diaHasta="",this.listarElementos()}clearHoraFinDesde(){this.dto.horaFinDesde="",this.listarElementos()}clearHoraFinHasta(){this.dto.horaFinHasta="",this.listarElementos()}clearHoraInicioDesde(){this.dto.horaInicioDesde="",this.listarElementos()}clearHoraInicioHasta(){this.dto.horaInicioHasta="",this.listarElementos()}clearEstado(){this.dto.estado="",this.listarElementos()}clear(){this.dto.descripcion="",this.dto.diaDesde="",this.dto.diaHasta="",this.dto.horaFinDesde="",this.dto.horaFinHasta="",this.dto.horaInicioDesde="",this.dto.horaInicioHasta="",this.dto.estado="",this.dto.usuarioEmail="",this.dto.usuarioNumero="",this.dto.usuarioNombre="",this.dto.usuarioDni="",this.listarElementos()}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(u.M),e.Y36(d.gz),e.Y36(l.B))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-permisos-lista"]],decls:59,vars:60,consts:[[1,"container-fluid","mt-3"],[1,"mb-4","text-center","selected","bg-waves","rounded","p-3"],[1,"my-3","mx-0","bg-light","px-4","pt-2","rounded"],[1,"row","mb-4"],[1,"col-12","col-sm-6","col-md-4","col-lg-4","col-xl-3","d-flex","align-items-end","justify-content-end","mb-3"],[1,"w-100",3,"inputValue","name","id","inputValueChange","clear","list"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","d-flex","align-items-end","justify-content-end","mb-3"],[1,"form-group","small","w-100"],["for","en-vacaciones",1,"small"],["name","estado","id","estado",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],["value","PENDIENTE"],["value","APROBADO"],["value","DENEGADO"],["class","col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 d-flex align-items-end justify-content-end mb-3",4,"ngIf"],[1,"w-100",3,"click"],[1,"table","table-hover","text-center"],[3,"entity","name","asc","order","sort"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"pag","paginacion"],[3,"apiEndPoint","dto","fileName","service","headers"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"w-100","h-100","btn","btn-outline-secondary"],[1,"bi","bi-eye-fill"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2,"B\xfasqueda de Permisos"),e.qZA(),e.TgZ(3,"form",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"app-input-filter-range-dates",5),e.NdJ("inputValueChange",function(s){return t.dto.diaDesde=s})("clear",function(){return t.clearDiaDesde()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"app-input-filter-range-dates",5),e.NdJ("inputValueChange",function(s){return t.dto.diaHasta=s})("clear",function(){return t.clearDiaHasta()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"app-input-filter-range-time",5),e.NdJ("inputValueChange",function(s){return t.dto.horaInicioDesde=s})("clear",function(){return t.clearHoraInicioDesde()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.TgZ(11,"div",4),e.TgZ(12,"app-input-filter-range-time",5),e.NdJ("inputValueChange",function(s){return t.dto.horaInicioHasta=s})("clear",function(){return t.clearHoraInicioHasta()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"app-input-filter-range-time",5),e.NdJ("inputValueChange",function(s){return t.dto.horaFinDesde=s})("clear",function(){return t.clearHoraFinDesde()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.TgZ(15,"div",4),e.TgZ(16,"app-input-filter-range-time",5),e.NdJ("inputValueChange",function(s){return t.dto.horaFinHasta=s})("clear",function(){return t.clearHoraFinHasta()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"div",7),e.TgZ(19,"label",8),e.TgZ(20,"b"),e._uU(21,"Estado:"),e.qZA(),e.qZA(),e.TgZ(22,"select",9),e.NdJ("ngModelChange",function(s){return t.dto.estado=s})("change",function(){return t.listarElementos()}),e.TgZ(23,"option",10),e._uU(24,"Todos"),e.qZA(),e.TgZ(25,"option",11),e._uU(26,"Pendiente"),e.qZA(),e.TgZ(27,"option",12),e._uU(28,"Aprobado"),e.qZA(),e.TgZ(29,"option",13),e._uU(30,"Denegado"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",6),e.TgZ(32,"app-input-filter-text",5),e.NdJ("inputValueChange",function(s){return t.dto.descripcion=s})("clear",function(){return t.clearDescripcion()})("list",function(){return t.listarElementos()}),e.qZA(),e.qZA(),e.YNc(33,P,2,3,"div",14),e.YNc(34,A,2,3,"div",14),e.TgZ(35,"div",6),e.TgZ(36,"app-boton-borrar-filtros",15),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"table",16),e.TgZ(38,"thead"),e.TgZ(39,"tr"),e.TgZ(40,"th"),e.TgZ(41,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.TgZ(42,"th"),e.TgZ(43,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.TgZ(44,"th"),e.TgZ(45,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.TgZ(46,"th"),e.TgZ(47,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.TgZ(48,"th"),e.TgZ(49,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.TgZ(50,"th"),e.TgZ(51,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.TgZ(52,"th"),e.TgZ(53,"app-th-sort",17),e.NdJ("sort",function(s){return t.setOrder(s)}),e.qZA(),e.qZA(),e.YNc(54,D,2,0,"th",18),e.qZA(),e.qZA(),e.TgZ(55,"tbody"),e.YNc(56,L,16,8,"tr",19),e.qZA(),e.qZA(),e.TgZ(57,"app-pagination",20),e.NdJ("paginacion",function(s){return t.onPaginate(s)}),e.qZA(),e.qZA(),e._UZ(58,"app-boton-descarga-csv",21)),2&a&&(e.xp6(6),e.Q6J("inputValue",t.dto.diaDesde)("name","Desde")("id","desde"),e.xp6(2),e.Q6J("inputValue",t.dto.diaHasta)("name","Hasta")("id","hasta"),e.xp6(2),e.Q6J("inputValue",t.dto.horaInicioDesde)("name","Hora inicio desde")("id","hora-ini-desde"),e.xp6(2),e.Q6J("inputValue",t.dto.horaInicioHasta)("name","Hora inicio hasta")("id","hora-ini-hasta"),e.xp6(2),e.Q6J("inputValue",t.dto.horaFinDesde)("name","Hora fin desde")("id","hora-fin-desde"),e.xp6(2),e.Q6J("inputValue",t.dto.horaFinHasta)("name","Hora fin hasta")("id","hora-fin-hasta"),e.xp6(6),e.Q6J("ngModel",t.dto.estado),e.xp6(10),e.Q6J("inputValue",t.dto.descripcion)("name","Descripci\xf3n")("id","descripcion"),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(7),e.Q6J("entity","dia")("name","D\xeda")("asc",t.asc)("order",t.order),e.xp6(2),e.Q6J("entity","horaInicio")("name","Hora Inicio")("asc",t.asc)("order",t.order),e.xp6(2),e.Q6J("entity","horaFin")("name","Hora Fin")("asc",t.asc)("order",t.order),e.xp6(2),e.Q6J("entity","estado")("name","Estado")("asc",t.asc)("order",t.order),e.xp6(2),e.Q6J("entity","descripcion")("name","Descripci\xf3n")("asc",t.asc)("order",t.order),e.xp6(2),e.Q6J("entity","usuarioNombreEmpleado")("name","Nombre Empleado")("asc",t.asc)("order",t.order),e.xp6(2),e.Q6J("entity","usuarioNumero")("name","N\xfamero Empleado")("asc",t.asc)("order",t.order),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(2),e.Q6J("ngForOf",t.listaElementos),e.xp6(1),e.Q6J("pag",t.pag),e.xp6(1),e.Q6J("apiEndPoint","permiso/listFiltered")("dto",t.dto)("fileName","permisos")("service",t.service)("headers",t.headers))},directives:[r._Y,r.JL,r.F,p.x,n._,r.EJ,r.JJ,r.On,r.YN,r.Kr,m.r,c.O5,T.R,Z.r,c.sg,C.Q,E.Z,d.rH],styles:[""]}),_})()},7525:(f,g,o)=>{o.d(g,{g:()=>p});var e=o(8870),u=o(9544),d=o(7729),l=o(283),r=o(9215);let p=(()=>{class n{}return n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[l.M],imports:[[e.ez,u.m,d.I]]}),n})()},283:(f,g,o)=>{o.d(g,{M:()=>l});var e=o(4537),u=o(9215),d=o(6659);let l=(()=>{class r{constructor(n){this.httpClient=n,this.endPoint=e.N.apiURL+"/permiso"}getElements(n,m,c,T,Z){return this.httpClient.post(this.endPoint+`/pagesFiltered?page=${m}&size=${c}&order=${T}&asc=${Z}`,n)}detail(n){return this.httpClient.get(this.endPoint+`/${n}`)}delete(n){return this.httpClient.delete(this.endPoint+`/${n}`)}aprobar(n){return this.httpClient.put(this.endPoint+`/aprobar/${n}`,null)}denegar(n){return this.httpClient.put(this.endPoint+`/denegar/${n}`,null)}getCsvData(n){return this.httpClient.post(this.endPoint+"/listFiltered",n)}create(n){return this.httpClient.post(this.endPoint+"/create",n)}getChartData(){return this.httpClient.get(this.endPoint+"/count")}getUserTableData(){return this.httpClient.get(this.endPoint+"/count/users")}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(d.eN))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},3801:(f,g,o)=>{o.d(g,{x:()=>d});var e=o(9215),u=o(6603);let d=(()=>{class l{constructor(){this.name="Text filter",this.id="text",this.inputValue="",this.inputValueChange=new e.vpe,this.list=new e.vpe,this.clear=new e.vpe}ngOnInit(){}listElements(){this.list.emit()}clearField(){this.clear.emit()}}return l.\u0275fac=function(p){return new(p||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-input-filter-range-dates"]],inputs:{name:"name",id:"id",inputValue:"inputValue"},outputs:{inputValueChange:"inputValueChange",list:"list",clear:"clear"},decls:10,vars:7,consts:[[1,"form-group","small"],[1,"small",3,"for"],[1,"input-group","input-group-sm"],["type","date",1,"form-control",3,"name","id","ngModel","ngModelChange"],[1,"text-danger","my-auto","mx-2","pinchable",3,"hidden","click"],[1,"bi","bi-x-circle-fill"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"bi","bi-check-circle-fill"]],template:function(p,n){1&p&&(e.TgZ(0,"div",0),e.TgZ(1,"label",1),e.TgZ(2,"b"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(c){return n.inputValue=c})("ngModelChange",function(){return n.inputValueChange.emit(n.inputValue)}),e.qZA(),e.TgZ(6,"span",4),e.NdJ("click",function(){return n.clearField()}),e._UZ(7,"i",5),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.listElements()}),e._UZ(9,"i",7),e.qZA(),e.qZA(),e.qZA()),2&p&&(e.xp6(1),e.s9C("for",n.id),e.xp6(2),e.hij("",n.name,":"),e.xp6(2),e.s9C("name",n.id),e.s9C("id",n.id),e.Q6J("ngModel",n.inputValue),e.xp6(1),e.Q6J("hidden",!n.inputValue),e.xp6(2),e.Q6J("disabled",!n.inputValue))},directives:[u.Fj,u.JJ,u.On],styles:[""]}),l})()},706:(f,g,o)=>{o.d(g,{_:()=>d});var e=o(9215),u=o(6603);let d=(()=>{class l{constructor(){this.name="Text filter",this.id="text",this.inputValue="",this.inputValueChange=new e.vpe,this.list=new e.vpe,this.clear=new e.vpe}ngOnInit(){}listElements(){this.list.emit()}clearField(){this.clear.emit()}}return l.\u0275fac=function(p){return new(p||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-input-filter-range-time"]],inputs:{name:"name",id:"id",inputValue:"inputValue"},outputs:{inputValueChange:"inputValueChange",list:"list",clear:"clear"},decls:10,vars:7,consts:[[1,"form-group","small"],[1,"small",3,"for"],[1,"input-group","input-group-sm"],["type","time",1,"form-control",3,"name","id","ngModel","ngModelChange"],[1,"text-danger","my-auto","mx-2","pinchable",3,"hidden","click"],[1,"bi","bi-x-circle-fill"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"bi","bi-check-circle-fill"]],template:function(p,n){1&p&&(e.TgZ(0,"div",0),e.TgZ(1,"label",1),e.TgZ(2,"b"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(c){return n.inputValue=c})("ngModelChange",function(){return n.inputValueChange.emit(n.inputValue)}),e.qZA(),e.TgZ(6,"span",4),e.NdJ("click",function(){return n.clearField()}),e._UZ(7,"i",5),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.listElements()}),e._UZ(9,"i",7),e.qZA(),e.qZA(),e.qZA()),2&p&&(e.xp6(1),e.s9C("for",n.id),e.xp6(2),e.hij("",n.name,":"),e.xp6(2),e.s9C("name",n.id),e.s9C("id",n.id),e.Q6J("ngModel",n.inputValue),e.xp6(1),e.Q6J("hidden",!n.inputValue),e.xp6(2),e.Q6J("disabled",!n.inputValue))},directives:[u.Fj,u.JJ,u.On],styles:[""]}),l})()}}]);