"use strict";(self.webpackChunkangular_fichajesPi=self.webpackChunkangular_fichajesPi||[]).push([[558],{1732:(f,m,i)=>{i.d(m,{m:()=>F});var t=i(9215),p=i(4780),l=i(1207),d=i(5410),_=i(6603),h=i(706),o=i(3801),u=i(8870),g=i(7895),T=i(4128),E=i(9730),Z=i(9745),C=i(1039);function A(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"app-input-filter-text",5),t.NdJ("inputValueChange",function(n){return t.CHM(a),t.oxw().dto.nombreUsuario=n})("clear",function(){return t.CHM(a),t.oxw().clearNombre()})("list",function(){return t.CHM(a),t.oxw().listarElementos()}),t.qZA(),t.qZA()}if(2&r){const a=t.oxw();t.xp6(1),t.Q6J("inputValue",a.dto.nombreUsuario)("name","Nombre Emp")("id","nombre")}}function v(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"app-input-filter-text",5),t.NdJ("inputValueChange",function(n){return t.CHM(a),t.oxw().dto.numeroUsuario=n})("clear",function(){return t.CHM(a),t.oxw().clearNumero()})("list",function(){return t.CHM(a),t.oxw().listarElementos()}),t.qZA(),t.qZA()}if(2&r){const a=t.oxw();t.xp6(1),t.Q6J("inputValue",a.dto.numeroUsuario)("name","N\xfamero Emp")("id","numero")}}function D(r,c){1&r&&(t.TgZ(0,"th"),t._uU(1,"Ver Detalle"),t.qZA())}function L(r,c){if(1&r&&(t.TgZ(0,"td",16),t.TgZ(1,"div",17),t._UZ(2,"i",18),t.qZA(),t.qZA()),2&r){const a=t.oxw().$implicit;t.MGl("routerLink","/intranet/fichajes/list/",a.id,"")}}function O(r,c){if(1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.YNc(13,L,3,1,"td",15),t.qZA()),2&r){const a=c.$implicit,e=t.oxw();t.xp6(2),t.Oqu(a.dia),t.xp6(2),t.Oqu(a.hora),t.xp6(2),t.Oqu(a.tipo),t.xp6(2),t.Oqu(a.usuario.nombreEmpleado),t.xp6(2),t.Oqu(a.usuario.numero),t.xp6(2),t.Oqu(a.origen),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}let F=(()=>{class r{constructor(a,e,n){this.service=a,this.activatedRoute=e,this.tokenService=n,this.headers=["dia","hora","tipo","usuario.nombreEmpleado","usuario.numero","origen"],this.order="id",this.asc=!1,this.listaElementos=[],this.pag={totalPages:[],page:0,isFirst:!1,isLast:!1,size:15,sizeLimit:100,listPagesLimits:4},this.dto={diaDesde:"",diaHasta:"",horaDesde:"",horaHasta:"",hora:"",dia:"",origen:null,tipo:"",numeroUsuario:"",nombreUsuario:""},this.isAdmin=!1}ngOnInit(){this.dto.numeroUsuario=this.activatedRoute.snapshot.params.numero,this.isAdmin=this.tokenService.isAdmin(),this.listarElementos()}listarElementos(){this.service.getElements(this.dto,this.pag.page,this.pag.size,this.order,this.asc).subscribe(a=>{this.listaElementos=a.content,this.pag.isFirst=a.first,this.pag.isLast=a.last,this.pag.totalPages=new Array(a.totalPages)},a=>{console.log(a)})}onPaginate(a){this.pag=a,this.listarElementos()}setOrder(a){this.order=a,this.asc=!this.asc,this.listarElementos()}clearNumero(){this.dto.numeroUsuario="",this.listarElementos()}clearNombre(){this.dto.nombreUsuario="",this.listarElementos()}clearDiaDesde(){this.dto.diaDesde="",this.listarElementos()}clearDiaHasta(){this.dto.diaHasta="",this.listarElementos()}clearHoraDesde(){this.dto.horaDesde="",this.listarElementos()}clearHoraHasta(){this.dto.horaHasta="",this.listarElementos()}clearOrigen(){this.dto.origen="",this.listarElementos()}clearTipo(){this.dto.tipo="",this.listarElementos()}clear(){this.dto.diaDesde="",this.dto.horaDesde="",this.dto.diaHasta="",this.dto.horaHasta="",this.dto.origen=null,this.dto.tipo="",this.dto.numeroUsuario="",this.dto.nombreUsuario="",this.listarElementos()}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(p.r),t.Y36(l.gz),t.Y36(d.B))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-fichajes-lista"]],decls:37,vars:46,consts:[[1,"container-fluid","mt-3"],[1,"mb-4","text-center","selected","bg-waves","rounded","p-3"],[1,"my-3","mx-0","bg-light","px-4","pt-2","rounded"],[1,"row","mb-4"],[1,"col-12","col-sm-6","col-md-4","col-lg-4","col-xl-3","d-flex","align-items-end","justify-content-end","mb-3"],[1,"w-100",3,"inputValue","name","id","inputValueChange","clear","list"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","d-flex","align-items-end","justify-content-end","mb-3"],["class","col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 d-flex align-items-end justify-content-end mb-3",4,"ngIf"],[1,"w-100",3,"click"],[1,"table","table-hover","text-center"],[3,"entity","name","asc","order","sort"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"pag","paginacion"],[3,"apiEndPoint","dto","fileName","service","headers"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"w-100","h-100","btn","btn-outline-secondary"],[1,"bi","bi-eye-fill"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2,"B\xfasqueda de Fichajes"),t.qZA(),t.TgZ(3,"form",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"app-input-filter-range-time",5),t.NdJ("inputValueChange",function(s){return e.dto.horaDesde=s})("clear",function(){return e.clearHoraDesde()})("list",function(){return e.listarElementos()}),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"app-input-filter-range-time",5),t.NdJ("inputValueChange",function(s){return e.dto.horaHasta=s})("clear",function(){return e.clearHoraHasta()})("list",function(){return e.listarElementos()}),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"app-input-filter-range-dates",5),t.NdJ("inputValueChange",function(s){return e.dto.diaDesde=s})("clear",function(){return e.clearDiaDesde()})("list",function(){return e.listarElementos()}),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"app-input-filter-range-dates",5),t.NdJ("inputValueChange",function(s){return e.dto.diaHasta=s})("clear",function(){return e.clearDiaHasta()})("list",function(){return e.listarElementos()}),t.qZA(),t.qZA(),t.YNc(13,A,2,3,"div",7),t.YNc(14,v,2,3,"div",7),t.TgZ(15,"div",6),t.TgZ(16,"app-boton-borrar-filtros",8),t.NdJ("click",function(){return e.clear()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"table",9),t.TgZ(18,"thead"),t.TgZ(19,"tr"),t.TgZ(20,"th"),t.TgZ(21,"app-th-sort",10),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(22,"th"),t.TgZ(23,"app-th-sort",10),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(24,"th"),t.TgZ(25,"app-th-sort",10),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(26,"th"),t.TgZ(27,"app-th-sort",10),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(28,"th"),t.TgZ(29,"app-th-sort",10),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.TgZ(30,"th"),t.TgZ(31,"app-th-sort",10),t.NdJ("sort",function(s){return e.setOrder(s)}),t.qZA(),t.qZA(),t.YNc(32,D,2,0,"th",11),t.qZA(),t.qZA(),t.TgZ(33,"tbody"),t.YNc(34,O,14,7,"tr",12),t.qZA(),t.qZA(),t.TgZ(35,"app-pagination",13),t.NdJ("paginacion",function(s){return e.onPaginate(s)}),t.qZA(),t.qZA(),t._UZ(36,"app-boton-descarga-csv",14)),2&a&&(t.xp6(6),t.Q6J("inputValue",e.dto.horaDesde)("name","Hora Desde")("id","hora-desde"),t.xp6(2),t.Q6J("inputValue",e.dto.horaHasta)("name","Hora Hasta")("id","hora-hasta"),t.xp6(2),t.Q6J("inputValue",e.dto.diaDesde)("name","Desde")("id","desde"),t.xp6(2),t.Q6J("inputValue",e.dto.diaHasta)("name","Hasta")("id","hasta"),t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(7),t.Q6J("entity","dia")("name","D\xeda")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","hora")("name","Hora")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","tipo")("name","Tipo")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","usuarioNombreEmpleado")("name","Nombre Empleado")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","usuarioNumero")("name","N\xfamero Empleado")("asc",e.asc)("order",e.order),t.xp6(2),t.Q6J("entity","origen")("name","Origen")("asc",e.asc)("order",e.order),t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(2),t.Q6J("ngForOf",e.listaElementos),t.xp6(1),t.Q6J("pag",e.pag),t.xp6(1),t.Q6J("apiEndPoint","fichaje/listFiltered")("dto",e.dto)("fileName","fichajes")("service",e.service)("headers",e.headers))},directives:[_._Y,_.JL,_.F,h._,o.x,u.O5,g.R,T.r,u.sg,E.Q,Z.Z,C.r,l.rH],styles:[""]}),r})()},5964:(f,m,i)=>{i.d(m,{P:()=>h});var t=i(8870),p=i(9544),l=i(7729),d=i(4780),_=i(9215);let h=(()=>{class o{}return o.\u0275fac=function(g){return new(g||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({providers:[d.r],imports:[[t.ez,p.m,l.I]]}),o})()},4780:(f,m,i)=>{i.d(m,{r:()=>d});var t=i(4537),p=i(9215),l=i(6659);let d=(()=>{class _{constructor(o){this.httpClient=o,this.endPoint=t.N.apiURL+"/fichaje"}getElements(o,u,g,T,E){return this.httpClient.post(this.endPoint+`/pagesFiltered?page=${u}&size=${g}&order=${T}&asc=${E}`,o)}detail(o){return this.httpClient.get(this.endPoint+`/${o}`)}update(o,u){return this.httpClient.put(this.endPoint+`/${o}`,u)}delete(o){return this.httpClient.delete(this.endPoint+`/${o}`)}getCsvData(o){return this.httpClient.post(this.endPoint+"/listFiltered",o)}}return _.\u0275fac=function(o){return new(o||_)(p.LFG(l.eN))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},8110:(f,m,i)=>{i.d(m,{Q:()=>p});var t=i(9215);let p=(()=>{class l{constructor(){this.valid=null}ngOnInit(){}}return l.\u0275fac=function(_){return new(_||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-boton-guardar"]],inputs:{valid:"valid"},decls:3,vars:1,consts:[[1,"btn","bg-pink","text-white","w-100",3,"disabled"],[1,"bi","bi-save"]],template:function(_,h){1&_&&(t.TgZ(0,"button",0),t._UZ(1,"i",1),t._uU(2," Guardar"),t.qZA()),2&_&&t.Q6J("disabled",!h.valid)},styles:[""]}),l})()}}]);